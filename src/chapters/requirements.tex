\chapter{Requerimientos del Software}

\section{Límites}

\begin{itemize}
	\item El software no permitirá relacionar automáticamente cualquier nombre de jugador con su perfil de usuario registrado en ella.
	\item El software no registrará estadísticas de manera retroactiva para jugadores no registrados.
	\item El software no permitirá visualizar carreras de manera individual.
	\item Las estadísticas por jugador no pueden ser editadas manualmente, sino que la modificación de estas debe ser un efecto de subir o eliminar sesiones.
	\item Las sesiones eliminadas no se podrán visualizar.
	\item Los usuarios no podrán cancelar sus cuentas por si mismos.
	\item El software no permitirá editar los modelos de sesiones de manera manual.
\end{itemize}

\section{Caracterización de los Usuarios}
Como se ha mencionado a lo largo de este informe, los usuarios a quienes apunta este proyecto de título son aquellos que forman parte de la comunidad de Re-Volt America. Estos usuarios, de manera general, se caracterizan por:

\begin{itemize}
	\item Pertenencia a un grupo etario entre 14 y 26 años.
	\item Competencias técnicas en uso de software similares.
	\item Familiaridad con el juego y el sistema  de puntos de RVA.
\end{itemize}

Por otra parte, tenemos la definición de quienes pueden ser clasificados como usuarios del software, así como la frecuencia con la que utilizarán la plataforma y su rol dentro de la misma:

\begin{center}
	\begin{tabular}{| p{3cm} | p{3cm} | p{10cm} |}
		\hline
		\multicolumn{3}{|c|}{\textbf{Usuarios}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Rol}} & \multicolumn{1}{|c|}{\textbf{Nivel}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		{\textbf{Administrador}} & Primario & Utiliza todas las funciones de la página, como subir autos, pistas, sesiones y manejo general del software. Configura el software para el resto de los usuarios.\\ \hline
		{\textbf{Organizador}} & Primario & Utiliza las funciones específicamente relacionadas a la subida y manejo de sesiones en la página.\\ \hline
		{\textbf{Moderador}} & Secundario & Utiliza las funciones específicas de manejo de usuarios, tal como la edición de perfiles o aplicación de infracciones. \\ \hline
		{\textbf{Jugador}} & Terciario & Utiliza la página sólo para visualizar la información que esta ofrece. \\ \hline
	\end{tabular}
\end{center}

\section{Objetivo General del Software}
El sistema manejará información del proceso de cálculo de resultados de carreras para que la comunidad centralice los rankings y estadísticas por usuario dentro del mismo, es decir, reducirá el trabajo manual requerido actualmente para este procesamiento de resultados, y así hará más eficiente todo el proceso que conlleva mantener los rankings actualizados.

\subsection{Objetivos Específicos del Software}
\begin{itemize}
	\item El sistema permite que los administradores de la comunidad puedan subir los archivos de resultados generados por RVGL y, de esta forma, los resultados son generados automáticamente dentro de la aplicación. Esto elimina el tiempo de los organizadores de calcular los resultados manualmente.
	\item El sistema permite que los usuarios puedan ver sus estadísticas en tiempo real, lo que elimina la necesidad de llevar la cuenta de manera manual por cada uno de ellos.
	\item El sistema permite enlazar los nombres de usuario utilizados en las sesiones multijugador de RVGL a perfiles dentro de la aplicación, lo cual hace posible la recopilación y atribución de métricas individuales por jugador, y agiliza la visualización de resultados.
	\item El sistema permite llevar un registro histórico de manera automática según se suben y se procesan los archivos de resultados en la aplicación, lo cual elimina completamente la necesidad de la comunidad de mantener toda esta información actualizada de manera manual.
\end{itemize}

\section{Requerimientos Funcionales del Software}
% Autos
\begin{center}
	\begin{tabular}{ | l | p{15cm} |}
		\hline
		\multicolumn{2}{|c|}{\textbf{Módulo de Registro de Autos de Re-Volt America}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Id}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		{\textbf{RF\_01}} & La plataforma contará con un módulo de creación de autos. Dentro de este módulo, los autos deben ser relacionados con una temporada. No podrán existir autos con nombres duplicados dentro de la misma temporada. Los autos deben ser importados desde un archivo separado por comas, el cual debe contar con todos los parámetros obligatorios del modelo de auto. Sólo los administradores pueden crear autos. \\ \hline

		{\textbf{RF\_02}} & La plataforma contará con un módulo de visualización de autos. El listado estará separado por temporadas y por clases de autos. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline

		{\textbf{RF\_03}} & La plataforma contará con un módulo de edición de un auto. Los autos deben contar con todos los parámetros obligatorios para ser modificados. Este módulo estará disponible sólo para los administradores. \\ \hline
		
		{\textbf{RF\_04}} & La plataforma contará con un módulo de eliminación de un auto. La eliminación no tendrá efectos secundarios a nivel de la base de datos, ya que la aplicación estará preparada para manejar excepciones cuando las entradas de corredores estén asociadas a un auto que no exista. Este módulo sólo estará disponible para administradores. \\ \hline
		
		{\textbf{RF\_05}} & La plataforma contará con un módulo de visualización de un sólo auto. En esta vista se podrán ver todos los parámetros del auto. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline
	\end{tabular}
\end{center}

% Pistas
\begin{center}
	\begin{tabular}{ | l | p{15cm} |}
		\hline
		\multicolumn{2}{|c|}{\textbf{Módulo de Registro de Pistas de Re-Volt America}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Id}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		{\textbf{RF\_06}} & La plataforma contará con un módulo de creación de pistas. Dentro de este módulo, las pistas deben ser relacionados con una temporada. No podrán existir pistas con nombres duplicados dentro de la misma temporada. Las pistas deben contar con todos los parámetros obligatorios del modelo de pista. Sólo los administradores pueden crear pistas. \\ \hline
		
		{\textbf{RF\_07}} & La plataforma contará con un módulo de visualización de pistas. El listado estará separado por temporadas y paginado. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline
		
		{\textbf{RF\_08}} & La plataforma contará con un módulo de edición de una pistas. Las pistas deben contar con todos los parámetros obligatorios para ser modificadas. Este módulo estará disponible sólo para los administradores. \\ \hline
		
		{\textbf{RF\_09}} & La plataforma contará con un módulo de eliminación de una pista. La eliminación no tendrá efectos secundarios a nivel de la base de datos, ya que la aplicación estará preparada para manejar excepciones cuando las carreras estén asociadas a una pista que no exista. Este módulo sólo estará disponible para administradores. \\ \hline
		
		{\textbf{RF\_10}} & La plataforma contará con un módulo de visualización de una sola pista. En esta vista se podrán ver todos los parámetros de la pista. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline
	\end{tabular}
\end{center}

% Temporadas
\begin{center}
	\begin{tabular}{ | l | p{15cm} |}
		\hline
		\multicolumn{2}{|c|}{\textbf{Módulo de Registro de Temporadas de Re-Volt America}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Id}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		{\textbf{RF\_11}} & La plataforma contará con un módulo de creación de temporadas. Las temporadas deben contar con todos los parámetros obligatorios. Al momento de crear una temporada, sus 6 rankings asociados deberán crearse automáticamente. Sólo los administradores pueden crear temporadas. \\ \hline
		
		{\textbf{RF\_12}} & La plataforma contará con un módulo de visualización de temporadas. El listado contendrá todas las temporadas, las cuales vendrán ordenadas por fecha de inicio. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline
		
		{\textbf{RF\_13}} & La plataforma contará con un módulo de edición de una temporada, las cuales deben contar con todos los parámetros obligatorios para ser modificados. Este módulo estará disponible sólo para los administradores. \\ \hline
		
		{\textbf{RF\_14}} & La plataforma contará con un módulo de eliminación de una temporada. Al eliminarse una temporada, se eliminarán también todos sus rankings asociados. Al mismo tiempo, todas las sesiones asociadas a dichos rankings también serán eliminadas. Las estadísticas globales de cada jugador también serán substraídas de sus perfiles. Este módulo sólo estará disponible para administradores. \\ \hline
		
		{\textbf{RF\_15}} & La plataforma contará con un módulo de visualización de una sola temporada. En esta vista se podrán ver todos los parámetros de la temporada. Este módulo estará disponible sólo para los administradores. \\ \hline
	\end{tabular}
\end{center}

% Rankings
\begin{center}
	\begin{tabular}{ | l | p{15cm} |}
		\hline
		\multicolumn{2}{|c|}{\textbf{Módulo de Visualización de Rankings de Re-Volt America}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Id}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		
		{\textbf{RF\_16}} & La plataforma contará con un módulo de visualización de rankings, el cual se encontrará dentro de cada visualización de temporada. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline
		
		{\textbf{RF\_17}} & La plataforma contará con un módulo de visualización de un solo ranking. En esta vista se podrán ver todas las sesiones asociadas al ranking, junto con su tabla de resultados acumulados. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline
	\end{tabular}
\end{center}

% Sesiones
\begin{center}
	\begin{tabular}{ | l | p{15cm} |}
		\hline
		\multicolumn{2}{|c|}{\textbf{Módulo de Subida de Sesiones de Re-Volt America}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Id}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		{\textbf{RF\_18}} & La plataforma contará con un módulo de subida de sesiones en forma de archivo separado por comas. El archivo separado por comas deberá ser un Session Log generado por RVGL. Este módulo deberá permitir al usuario seleccionar un archivo separado por comas. Las sesiones deben contar con todos los parámetros obligatorios. Sólo los administradores pueden crear sesiones. \\ \hline
		
		{\textbf{RF\_19}} & La plataforma contará con un módulo de visualización de sesiones. El listado contendrá las últimas sesiones del ranking vigente de la temporada actual. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline
		
		{\textbf{RF\_20}} & La plataforma contará con un módulo de eliminación de una sesión. La eliminación no tendrá efectos secundarios a nivel de la base de datos. Este módulo sólo estará disponible para administradores. \\ \hline
		
		{\textbf{RF\_21}} & La plataforma contará con un módulo de visualización de una sola sesión. En esta vista se podrán ver todos los parámetros de la sesión, ordenados en el formato de RVA. Este módulo estará disponible para cualquier tipo de usuario. \\ \hline
	\end{tabular}
\end{center}

\section{Requerimientos No Funcionales del Software}

% API
\begin{center}
	\begin{tabular}{ | l | p{15cm} |}
		\hline
		\multicolumn{2}{|c|}{\textbf{API}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Id}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		{\textbf{RNF\_01}} & La plataforma contará con una API REST, la cual estará diseñada para ser consumida por aplicaciones de terceros. Todos los endpoints estarán disponibles sólo para lectura por parte de terceros. \\ \hline
		
		{\textbf{RNF\_02}} & La API contará con endpoints tanto de la vista de un solo auto, como de todos los autos (por categoría). \\ \hline
		
		{\textbf{RNF\_03}} & La API contará con endpoints tanto de la vista de una sola pista, como de todos las pistas. \\ \hline
		
		{\textbf{RNF\_04}} & La API contará con endpoints de las temporadas. \\ \hline
		
		{\textbf{RNF\_05}} & La API contará con endpoints de los rankings. \\ \hline
		
		{\textbf{RNF\_06}} & La API contará con endpoints de las sesiones. Todos los datos embedidos de las sesiones formarán también parte del cuerpo JSON de la respuesta. Esto quiere decir que los objetos se anidarán en el documento según corresponda.\\ \hline
	\end{tabular}
\end{center}

% Roles
\begin{center}
	\begin{tabular}{ | l | p{15cm} |}
		\hline
		\multicolumn{2}{|c|}{\textbf{Módulo de Roles por Usuario}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Id}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		{\textbf{RNF\_07}} & La plataforma deberá contar con un rol de administrador. Este rol tendrá todos los permisos dentro de la plataforma. El rol de administrador sólo podrá ser asignado de manera interna.\\ \hline
		
		{\textbf{RNF\_08}} & La plataforma deberá contar con un rol de moderador. Este rol tendrá permiso para modificar cierta información de los perfiles de lo usuarios. El rol de moderador sólo puede ser asignado por usuarios con rol de administrador desde  la misma plataforma.\\ \hline
		
		{\textbf{RNF\_09}} & La plataforma deberá contar con un rol de organizador. Este rol tendrá permiso para subir sesiones a la plataforma. El rol de organizador sólo puede ser asignado por usuarios con rol de administrador desde la misma plataforma. \\ \hline
		
		{\textbf{RNF\_10}} & La plataforma deberá contar con usuarios normales. Para efectos de la plataforma, los usuarios normales se denotarán por no contar con ningún rol. Los usuarios normales sólo podrán editar sus propios perfiles y visualizar la plataforma.\\ \hline
	\end{tabular}
\end{center}

% Control de Versiones
\begin{center}
	\begin{tabular}{ | l | p{15cm} |}
		\hline
		\multicolumn{2}{|c|}{\textbf{Módulo de Control de Versiones y Despliegue}} \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Id}} & \multicolumn{1}{|c|}{\textbf{Descripción}} \\
		\hline
		{\textbf{RNF\_11}} & El código estará versionado a través de Git, utilizando GitHub como plataforma de almacenamiento en la nube para el control de versiones.\\ \hline
		
		{\textbf{RNF\_12}} & Se contará con un sistema de integración continua para el software, implementado directamente en GitHub. A través de este sistema se podrá ser desplegar el software de manera automática cuando se detecten cambios en una rama de Git determinada.\\ \hline
	\end{tabular}
\end{center}

\section{Interfaces Internas de Salida}

\begin{center}
	\begin{tabular}{ | l | p{5.5cm} | p{8cm} |}
		\hline
		{\textbf{Identificador}} & 	{\textbf{Nombre}} & {\textbf{Detalle de Datos}} \\ \hline
		{\textbf{IN\_01}} & Car & name, speed, accel, weight, multiplier, folder\_name, category, stock, season\_id \\ \hline
		{\textbf{IN\_02}} & Track &  name, short\_name, difficulty, lenght, folder\_name, stock, season\_id \\ \hline
		{\textbf{IN\_03}} & Season & name, start\_date, end\_date, current \\ \hline
		{\textbf{IN\_04}} & Ranking & number, season\_id \\ \hline
		{\textbf{IN\_05}} & User & username, encrypted\_password, reset\_password\_token, reset\_password\_sent\_at, remember\_created\_at, sign\_in\_count, current\_sign\_in\_at, last\_sign\_in\_at, current\_sign\_in\_ip, last\_sign\_in\_ip, confirmation\_token, confirmation\_token, confirmed\_at, confirmation\_sent\_at, unconfirmed\_email, failed\_attempts, unlock\_token, locked\_at, admin, mod, organizar, locale, profile, stats \\ \hline
	\end{tabular}
\end{center}

\newpage

\section{Interfaces Externas de Salida}

\begin{center}
	\begin{tabular}{ | l | p{3.5cm} | p{6cm} | p{4cm} |}
		\hline
		{\textbf{Identificador}} & 	{\textbf{Nombre}} & {\textbf{Detalle de Datos}} & {\textbf{Medio de Salida}} \\
		\hline
		{\textbf{OUT\_01}} & Sesión en Formato de RVA & races, number, host, version, physics, protocol, pickups, date, teams, category & Pantalla, Archivo XLS. \\ \hline
		{\textbf{OUT\_02}} & Car & name, speed, accel, weight, multiplier, folder\_name, category, stock, season\_id & Pantalla \\ \hline
		{\textbf{OUT\_03}} & Track & name, short\_name, difficulty, lenght, folder\_name, stock, season\_id & Pantalla \\ \hline
		{\textbf{OUT\_04}} & Season & name, start\_date, end\_date, current & Pantalla \\ \hline
		{\textbf{OUT\_05}} & Ranking & number, season\_id & Pantalla \\ \hline
		{\textbf{OUT\_06}} & User & username, admin, mod, organizer, locale, profile, stats & Pantalla \\ \hline
	\end{tabular}
\end{center}
